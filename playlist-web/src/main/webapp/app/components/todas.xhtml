<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition>
	<h:form id="form-todas-musicas">
		<!-- tabela para listar todas as musicas -->
		<p:dataTable value="#{pesquisaAuxiliar.todasMusicas}" var="musica"
			rows="18" paginator="true" style="height:500px"
			paginatorPosition="bottom" id="musica-table"
			paginatorAlwaysVisible="false"
			selection="#{pesquisaAuxiliar.musicaSeleccionada}"
			selectionMode="single" rowKey="#{musica.id}" styleClass="borderless">

			<p:ajax event="rowSelect" listener="#{pesquisaAuxiliar.onRowSelect}"
				update=":right-panel :right-bar" />
			

			<p:column headerText="Title" sortdBy="titulo" width="25">
				<h:outputText value="#{musica.titulo}" />
			</p:column>
			<p:column headerText="Artist" width="25">
				<h:outputText value="#{musica.artista}" />
			</p:column>
			<p:column headerText="Album" width="25">
				<h:outputText value="#{musica.album}" />
			</p:column>
			<p:column headerText="Release Date" width="15">
				<h:outputText value="#{musica.anoLancamento}" />
			</p:column>
			<p:column headerText="Lyrics" width="25">
				<!-- <h:outputText value="Lyrics" onclick="PF('dlg2').show();"/> -->
				<h:outputLink id="openDialogLink" value="javascript:void(0)"
					onclick="PF('dlg2').show();">Lyrics </h:outputLink>
			</p:column>
			<p:column headerText="Play" width="10">
				<p:commandButton icon="ui-icon-triangle-1-e" title="Play music"
					action="#{playlistCDIBean.play}" update=":play-form"
					process="@this">
					<f:setPropertyActionListener target="#{playlistCDIBean.musicaPlay}"
						value="#{musica}" />
				</p:commandButton>
			</p:column>
		</p:dataTable>
		<p:dialog header="Lyric" widgetVar="dlg2" modal="true"
			minimizable="true" maximizable="true">
			<h:outputText value="Lyric" />
		</p:dialog>
		<p:growl id="msgs" life="2000" autoUpdate="true" />
	</h:form>
</ui:composition>
</html>